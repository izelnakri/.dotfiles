# TODO: fix font issue, nvim-tmux integration(send commands, window toggle/switch) 
# nvim color adjustments for new terminal
# faster scroll with control+shift+K 

#Plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-copycat'
set -g @plugin 'tmux-plugins/tmux-open'

#Generic
set -sg escape-time 0
set -g base-index 1
setw -g pane-base-index 1

#24bit color support
set-option -ga terminal-overrides ",xterm-256color:Tc"
set -g default-terminal "screen-256color"

#Nvim cursor support
set -g -a terminal-overrides ',*:Ss=\E[%p1%d q:Se=\E[2 q'

#Mouse works as expected
set -g mouse on
#Visual
setw -g monitor-activity on
set -g visual-activity on
set -g status-bg black
set -g status-fg white

#We are Vim users
set -g mode-keys vi

#Know your history
set -g history-limit 10000
set-option -g history-limit 10000

#Easy-to-remember split pane commands
bind | split-window -h -c '#{pane_current_path}'  # Split panes horizontal
bind - split-window -v -c '#{pane_current_path}'  # Split panes vertically
unbind '"'
unbind %

#Copy and paste support paste - ask these to benny
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'V' send -X select-line
bind-key -T copy-mode-vi 'r' send -X rectangle-toggle
bind-key -T copy-mode-vi 'y' send-keys -X copy-pipe-and-cancel "xsel -i -p && xsel -o -p | xsel -i -b"
bind-key p run "xsel -o | tmux load-buffer - ; tmux paste-buffer"

#Moving between panes with vim movement keys
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

#Moving between windows with vim movement keys
# bind -r C-h select-window -t :-
# bind -r C-l select-window -t :+

#Resize panes with vim movement keys
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

#One big session group
new-session -s main

#Use tmux plugin manager (end)
run '~/.tmux/plugins/tpm/tpm'
